"use strict";(self.webpackChunkamis_editor_demo=self.webpackChunkamis_editor_demo||[]).push([[1854],{21854:function(e,t,a){a.r(t);var i=a(96540),o=a(13942),n=a(36607),c=a(9726),r=a(93865),l=a(33356),s=(a(65295),a(27084),a(71762),-1),m=window.location.protocol+"//"+window.location.host;/^\/amis-editor-demo/.test(window.location.pathname)&&(m+="/amis-editor");var d=m+"/schema.json",v=[{label:"简体中文",value:"zh-CN"},{label:"English",value:"en-US"}];t.default=(0,n.WQ)("store")((0,n.PA)((function(e){var t=e.store,a=(e.location,e.history),n=e.match,m=parseInt(n.params.id,10),u=(0,r.IJ)();return m!==s&&(s=m,t.updateSchema(t.pages[m].schema)),i.createElement("div",{className:"Editor-Demo"},i.createElement("div",{className:"Editor-header"},i.createElement("div",{className:"Editor-title"},"可视化编辑器"),i.createElement("div",{className:"Editor-view-mode-group-container"},i.createElement("div",{className:"Editor-view-mode-group"},i.createElement("div",{className:"Editor-view-mode-btn editor-header-icon "+(t.isMobile?"":"is-active"),onClick:function(){t.setIsMobile(!1)}},i.createElement(l.I,{icon:"pc-preview",title:"PC模式"})),i.createElement("div",{className:"Editor-view-mode-btn editor-header-icon "+(t.isMobile?"is-active":""),onClick:function(){t.setIsMobile(!0)}},i.createElement(l.I,{icon:"h5-preview",title:"移动模式"})))),i.createElement("div",{className:"Editor-header-actions"},i.createElement(o.eVz,null),i.createElement(c.l6P,{className:"margin-left-space",options:v,value:u,clearable:!1,onChange:function(e){return t=e.value,localStorage.setItem("suda-i18n-locale",t),void window.location.reload();var t}}),i.createElement("div",{className:"header-action-btn m-1 "+(t.preview?"primary":""),onClick:function(){t.setPreview(!t.preview)}},t.preview?"编辑":"预览"),!t.preview&&i.createElement("div",{className:"header-action-btn exit-btn",onClick:function(){a.push("/"+t.pages[m].path)}},"退出"))),i.createElement("div",{className:"Editor-inner"},i.createElement(o.KE6,{theme:"cxd",preview:t.preview,isMobile:t.isMobile,value:t.schema,onChange:function(e){t.updateSchema(e),t.updatePageSchemaAt(m)},onPreview:function(){t.setPreview(!0)},onSave:function(){t.updatePageSchemaAt(m),c.oRP.success("保存成功","提示")},className:"is-fixed",$schemaUrl:d,showCustomRenderersPanel:!0,amisEnv:{fetcher:t.fetcher,notify:t.notify,alert:t.alert,copy:t.copy}})))})))}}]);